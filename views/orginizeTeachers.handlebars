<div style="min-width: 420px;" class="list-container">
    <h2>Miscelaneous:</h2>
    <ul id="/Miscelaneous" class="sortable list-group">
    {{#each misc}}
        <li id="{{this.groupKey}}" class="list-group-item">
            <span class="drag-handle" style="font-size: 1.3em">☰ </span>
            <strong>{{this.title}}</strong>
            <ul id="/MiscGroups/{{this.groupKey}}/Members" class="sortable list-group">
                {{#each this.members}}
                    <li id="{{this.key}}" class="list-group-item">
                        <span class="drag-handle" style="font-size: 1.3em">☰ </span>
                        {{this.name}}
                        <button onclick="showIframe('/faculty/{{this.key}}/edit/')" class="btn btn-primary btn-sm">Edit</button>
                    </li>
                {{/each}}
            </ul>
            {{!-- Don't put this in the list otherwise the reorder function will pick up on it'd id! --}}
            <div class="dropdown">
                <button class="btn btn-success dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Add
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <div class="dropdown-item btn-group" role="group">
                        <button type="button" class="btn btn-primary" onclick="displayAddMiscMember('{{this.groupKey}}', '{{this.title}}')">Existing</button>
                        <button type="button" class="btn btn-secondary" onclick="displayCreateMiscMember('{{this.groupKey}}', '{{this.title}}')">New</button>
                    </div>
                </div>
            </div>
        </li>
    {{/each}}
    </ul>
</div>
{{#each otherFaculty}}
    <div class="list-container">
        <h1>{{this.title}}:</h1>
        <ul class="sortable list-group" id="/{{this.title}}">
            {{#each this.members}}
            <li class="list-group-item" id="{{this.key}}">
                <span class="drag-handle" style="font-size: 1.3em">☰ </span>
                {{#if this.props.Room}}{{this.props.Room}} | {{/if}}
                {{#if this.props.Name}}{{this.props.Name}} {{/if}}
                <button onclick="showIframe('/faculty/{{this.key}}/edit/')" class="btn btn-primary btn-sm">Edit</button>
            </li>
            {{/each}}
            <a href="/admin/faculty/edit?existing=true&path={{this.title}}" class="btn btn-success">Add Existing Teacher</a>
        </ul>
    </div>
{{/each}}

<div class="list-container">
    <h1>Elementary</h1>
    <ul class="sortable list-group" id="/Elementary">
    {{#each elementary}}
        <li class="list-group-item" id="{{this.id}}">
            <span class="drag-handle" style="font-size: 1.3em">☰ </span>
            {{this.Class}} | {{this.Room}} | {{this.Teacher.Name}}
            Assistants: {{#each this.Assistants}} {{this.Name}} {{/each}}
            <button onclick="showIframe('/admin/faculty/{{this.id}}/edit/')" class="btn btn-primary">Edit</a>
        </li>
    {{/each}}
    </ul>
</div>

<div class="list-container">
    <h1>Nursary</h1>
    <ul class="sortable list-group" id="/Nursary">
    {{#each nursary}}
    <li class="list-group-item" id="{{this.id}}">
        <span class="drag-handle" style="font-size: 1.3em">☰ </span>
        {{this.Class}} {{this.Teacher.Name}}
    </li>
    {{/each}}
    </ul>
    <button class="btn btn-success" onclick="displayAddClassPopup('Nursary')">Create Class</button>
</div>

<div class="addFacultyContainer">
    <div class="addition" id="classAdd">
        <button class="btn btn-secondary exButton">X</button>
        <h2>Add <span id="classType"></span> Class:</h2>
        <input type="text" id="classInput" class="classInputs" placeholder="Class">
        <input type="text" id="gradeInput" class="classInputs" placeholder="Grade">
        <input type="text" id="roomNumberInput" class="classInputs" placeholder="Room Number">
        <label>Existing Teacher? <select id="teacherSelect">
            <option value="None">Select</option>
            {{#each faculty}} <option value="{{this.id}}">{{this.name}}</option> {{/each}}
        </select></label>
        <label>OR Create New Teacher: <input type="text" id="newTeacherName" placeholder="New Teacher's Name"></label>
        <label id="assistantAdder" class="classInputs">Assistants: <select id="assistantsSelect" multiple>
            <option value="None">Select</option>
            {{#each faculty}} <option value="{{this.id}}">{{this.name}}</option> {{/each}}
        </select> OR <input type="text" id="newAssistantName" placeholder="New Assistant's Name"></label>
        <button class="btn btn-primary" id="addClassButton">Add</button>
    </div>
    
    <div class="addition" id="miscMemberCreate">
        <button class="btn btn-secondary exButton">X</button>
        <h2>Create new member &amp; add to <span class="miscGroupTitle"></span>:</h2>
        <input type="text" placeholder="Member's Name" id="memberName">
        <button class="btn btn-primary" id="createMiscMemberButton">Create</button>
    </div>

    <div class="addition" id="miscMemberAdd">
        <button class="btn btn-secondary exButton">X</button>
        <h2>Add Existing Member to <span class="miscGroupTitle"></span>:</h2>
        <select id="memberToAdd">
            <option value="None" selected>Select</option>
            {{#each faculty}}
            <option value="{{this.id}}">{{this.name}}</option>
            {{/each}}
        </select>
        <button class="btn btn-primary" id="addMiscMemberButton">Add</button>
    </div>
</div>

<link rel="stylesheet" href="/css/orginizePage.css">
<link rel="stylesheet" href="/css/sortable.css">
<script src="/js/Sortable.min.js"></script>
<script src="/js/sortFaculty.js"></script>

